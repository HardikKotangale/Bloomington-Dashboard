<!doctype html>
<html><head>
<meta charset="utf-8"/>
<title>Month 1 — Yard Waste × Units Heatmap</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
html,body,#map { height:100%; margin:0; background:#0d0000; }
.info.legend {
  background:white; padding:8px 10px;
  border-radius:6px; box-shadow:0 0 8px rgba(0,0,0,0.3);
  font-family:sans-serif; font-size:13px; color:#000;
}
.legend-bar {
  height:16px; width:220px;
  background:linear-gradient(to right,#2a0000,#700000,#d92b00,#ff6600,#ffcc66);
  border-radius:4px; margin-bottom:4px;
}
</style>
</head>

<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>

<script>
const map=L.map('map').setView([39.1653, -86.5264], 13);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom:19}).addTo(map);

const pts = [[39.126, -86.518, 0.1111111111111111], [39.163000000000004, -86.543, 0.1111111111111111], [39.168, -86.549, 0.1111111111111111], [39.168, -86.547, 0.1111111111111111], [39.152, -86.524, 0.0], [39.191, -86.538, 0.1111111111111111], [39.157000000000004, -86.532, 0.4444444444444444], [39.2, -86.544, 0.1111111111111111], [39.161, -86.509, 0.1111111111111111], [39.160000000000004, -86.513, 0.1111111111111111], [39.14, -86.497, 0.2222222222222222], [39.155, -86.533, 0.1111111111111111], [39.142, -86.545, 0.0], [39.133, -86.505, 0.1111111111111111], [39.138, -86.51, 0.1111111111111111], [39.15, -86.496, 0.1111111111111111], [39.134, -86.523, 0.1111111111111111], [39.143, -86.5, 0.1111111111111111], [39.172000000000004, -86.532, 0.1111111111111111], [39.161, -86.53, 0.1111111111111111], [39.159, -86.532, 0.1111111111111111], [39.141, -86.489, 0.1111111111111111], [39.195, -86.543, 0.1111111111111111], [39.15, -86.516, 0.2222222222222222], [39.166000000000004, -86.487, 0.1111111111111111], [39.172000000000004, -86.486, 0.1111111111111111], [39.159, -86.48, 0.1111111111111111], [39.158, -86.515, 0.1111111111111111], [39.15, -86.532, 0.1111111111111111], [39.157000000000004, -86.516, 0.1111111111111111], [39.154, -86.533, 0.1111111111111111], [39.153, -86.532, 0.2222222222222222], [39.151, -86.533, 0.1111111111111111], [39.158, -86.525, 0.1111111111111111], [39.153, -86.528, 0.1111111111111111], [39.173, -86.474, 0.0], [39.147, -86.513, 0.1111111111111111], [39.179, -86.549, 0.1111111111111111], [39.158, -86.522, 0.1111111111111111], [39.169000000000004, -86.528, 0.1111111111111111], [39.169000000000004, -86.506, 0.1111111111111111], [39.137, -86.499, 0.1111111111111111], [39.183, -86.544, 0.2222222222222222], [39.153, -86.47500000000001, 0.0], [39.188, -86.529, 0.1111111111111111], [39.123, -86.525, 0.2222222222222222], [39.136, -86.506, 0.1111111111111111], [39.157000000000004, -86.53, 0.1111111111111111], [39.202, -86.531, 0.1111111111111111], [39.154, -86.474, 0.0], [39.137, -86.496, 0.1111111111111111], [39.149, -86.509, 0.1111111111111111], [39.160000000000004, -86.522, 0.5555555555555556], [39.128, -86.519, 0.1111111111111111], [39.196, -86.542, 0.2222222222222222], [39.158, -86.516, 0.1111111111111111], [39.201, -86.533, 0.1111111111111111], [39.161, -86.531, 0.2222222222222222], [39.154, -86.51, 0.1111111111111111], [39.173, -86.524, 0.1111111111111111], [39.168, -86.506, 0.1111111111111111], [39.17, -86.525, 0.1111111111111111], [39.147, -86.514, 0.1111111111111111], [39.142, -86.492, 0.1111111111111111], [39.17, -86.553, 0.0], [39.179, -86.536, 0.1111111111111111], [39.160000000000004, -86.519, 0.1111111111111111], [39.160000000000004, -86.518, 0.1111111111111111], [39.162, -86.544, 0.2222222222222222], [39.14, -86.495, 0.1111111111111111], [39.136, -86.523, 0.1111111111111111], [39.155, -86.513, 0.1111111111111111], [39.144, -86.492, 0.2222222222222222], [39.165, -86.488, 0.1111111111111111], [39.166000000000004, -86.544, 0.1111111111111111], [39.168, -86.47800000000001, 0.1111111111111111], [39.161, -86.48, 0.1111111111111111], [39.158, -86.485, 0.1111111111111111], [39.154, -86.486, 0.1111111111111111], [39.147, -86.542, 0.1111111111111111], [39.144, -86.507, 0.1111111111111111], [39.166000000000004, -86.485, 0.1111111111111111], [39.17, -86.476, 0.1111111111111111], [39.174, -86.532, 0.1111111111111111], [39.174, -86.541, 0.1111111111111111], [39.139, -86.548, 0.1111111111111111], [39.164, -86.543, 0.3333333333333333], [39.123, -86.526, 0.1111111111111111], [39.155, -86.55, 0.1111111111111111], [39.157000000000004, -86.548, 0.2222222222222222], [39.166000000000004, -86.488, 0.1111111111111111], [39.137, -86.519, 0.1111111111111111], [39.17, -86.528, 1.0], [39.207, -86.548, 0.1111111111111111], [39.143, -86.502, 0.1111111111111111], [39.196, -86.543, 0.1111111111111111]];
const gradient = {"0.0": "#2a0000", "0.25": "#700000", "0.50": "#d92b00", "0.75": "#ff6600", "1.0": "#ffcc66"};

if (pts.length) {
    L.heatLayer(pts, {
        radius:30, blur:25, minOpacity:0.35, gradient:gradient
    }).addTo(map);

    const lats = pts.map(p => p[0]);
    const lons = pts.map(p => p[1]);

    map.fitBounds([[Math.min(...lats), Math.min(...lons)],
                   [Math.max(...lats), Math.max(...lons)]]);
}

const legend = L.control({position:'bottomright'});
legend.onAdd = function() {
  const div = L.DomUtil.create('div', 'info legend');
  div.innerHTML += '<div class="legend-bar"></div>';
  div.innerHTML += `
    <div style="display:flex;justify-content:space-between;width:220px;">
      <span>Low</span><span>Med</span><span>High</span><span>Very High</span>
    </div>`;
  return div;
};
legend.addTo(map);
</script>
</body></html>
